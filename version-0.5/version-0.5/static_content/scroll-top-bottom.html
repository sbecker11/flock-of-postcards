<!DOCTYPE html>
<html>
<head>
    <title>scroll-top-bottom</title>
    <style>
        body, html {
            height: 100%;
            margin: 0;
        }

        .container {
            display: flex;
            flex-direction: column;
            height: 100vh;
        }

        #debug {
            height: 50px;
            background-color: lightgray;
        }

        #scrollable {
            flex: 1;
            overflow-y: auto;
            border: 1px solid black;
            scroll-behavior: contain;
        }

        #canvas {
            width: 300px;
            height: 2000px;
            position: relative;
        }

        .red-div {
            position: absolute;
            width: 50px;
            height: 50px;
            background-color: red;
            color: white;
            left: 175px;
            margin: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
    </style>
</head>
<body>
    <div class="container">
        <div id="debug"></div>
        <div id="scrollable">
            <div id="canvas"></div>
        </div>
    </div>

    <script>
        function updateDebug() {
            var scrollable = document.getElementById("scrollable");
            var debug = document.getElementById("debug");
            var scrollTop = scrollable.scrollTop;
            var scrollHeight = scrollable.scrollHeight;
            var windowHeight = scrollable.clientHeight;

            debug.innerHTML = "Scroll Top: " + scrollTop + "px<br>";
            debug.innerHTML += "Scroll Bottom: " + (scrollHeight - scrollTop - windowHeight) + "px";
        }

        var scrollable = document.getElementById("scrollable");

        var canvas = document.getElementById("canvas");
        const gap = 10;
        const height = 50;
        for (var i = 0; i < 30; i++) {
            var redDiv = document.createElement("div");
            redDiv.classList.add("red-div");
            const top = gap/2 + (gap + height) * i;
            redDiv.style.top = `${top}px`;
            redDiv.innerHTML = `${i+1}`;
            canvas.appendChild(redDiv);
        }

        /*
        function scrollHandler(event) {
            var scrollTop = scrollable.scrollTop;
            var windowHeight = scrollable.clientHeight;
            var scrollHeight = scrollable.scrollHeight;
          
            var maxScroll = scrollHeight - windowHeight;
            var normalizedScrollTop = scrollTop / maxScroll;
          
            var easingFactor = 0.001;
            var threshold = 0.01;
          
            var easeScrollTop = normalizedScrollTop < easingFactor
              ? normalizedScrollTop / easingFactor
              : 1 - (1 - normalizedScrollTop) / (1 - easingFactor);
          
            if (easeScrollTop > 1 - threshold) {
              scrollable.scrollTop = maxScroll;
            } else {
              scrollable.scrollTop = easeScrollTop * maxScroll;
            }
          }
        
          scrollable.addEventListener("scroll", scrollHandler);

          */
          
        scrollable.addEventListener("scroll", updateDebug);


    </script>
</body>
</html>
